<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
      content="default-src 'self';
               script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
               style-src  'self' 'unsafe-inline' https://cdn.jsdelivr.net;
               font-src   'self' https://fonts.gstatic.com;
               img-src    'self' data: https://i.postimg.cc;
               frame-src  https://drive.google.com https://i.postimg.cc;">
<title>PHENO&amp;CO - Barbershop Montpellier</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/litepicker/dist/css/litepicker.css">
</head>
<body>

  <header class="header-section text-center py-4">
    <h1>PHENO&amp;CO</h1>
    <p class="subtitle">Barbershop depuis 2009 • Montpellier</p>
  </header>

  <section>
    <h2 class="section-title">RÉSERVATIONS</h2>
    <div class="button-group button-group-horizontal">
      <a class="button" href="https://phenoandco.com" target="_blank">Prendre rendez-vous</a>
      <button class="button" data-bs-toggle="modal" data-bs-target="#bookingModal">Réserver un fauteuil</button>
      <a class="button button-secondary" href="https://wa.me/33769432605" target="_blank">Contact WhatsApp</a>
    </div>
  </section>

  <section>
    <h2 class="section-title">TARIFS &amp; INFOS</h2>
    <div class="button-group">
      <!-- Utiliser data-file-url, unique et sans majuscules -->
<button class="button button-secondary"
        data-bs-toggle="modal"
        data-bs-target="#driveModal"
        data-file-url="https://i.postimg.cc/Kvq12YM9/Pheno-Co-Brochure-3.png">
  Tarifs & Prestations
</button>

<button class="button button-secondary"
        data-bs-toggle="modal"
        data-bs-target="#driveModal"
        data-file-url="https://i.postimg.cc/W1xtdfSg/Pheno-Co-Brochure-4.png">
  Brochure Location Fauteuil
</button>

    </div>
  </section>

  <aside class="info-block mx-auto">
    <p><strong>20 ans de passion, 15 ans à vos côtés.</strong><br>Merci pour votre confiance.</p>
    <div class="horaires text-start">
      <p><strong>Horaires :</strong></p>
      <p>Mardi, Jeudi, Vendredi, Samedi : 10h - 18h<br>
      Mercredi : 12h - 17h30<br>
      Dimanche &amp; Lundi : fermé</p>
    </div>
    <p><strong>18 Rue d'Alger, 34000 Montpellier</strong></p>
    <p><em>Vous êtes toujours les bienvenus chez PHENO&amp;CO, avec ou sans rendez-vous.<br>
    Réserver = moins d'attente.</em></p>
  </aside>

  <!-- Modal Google Drive -->
  <div class="modal fade" id="driveModal" tabindex="-1">
    <div class="modal-dialog modal-xl-custom modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Document</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <iframe id="driveIframe" loading="lazy"
       sandbox="allow-scripts" style="width:100%; height:70vh; border:none;"></iframe>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Réservation Fauteuil -->
  <div class="modal fade" id="bookingModal" tabindex="-1">
    <div class="modal-dialog modal-xl-custom modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Réservation de fauteuil</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="booking-form-section">
            <form id="fauteuilBookingForm">
              <div class="mb-3">
                <label for="nom" class="form-label">Nom complet *</label>
                <input type="text" id="nom" name="nom"
                       class="form-control" required>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email *</label>
                <input type="email" id="email" name="email"
                       class="form-control" required>
              </div>
              <div class="mb-3">
                <label for="telephone" class="form-label">Téléphone *</label>
                <input type="tel" id="telephone" name="telephone"
                       class="form-control" required>
              </div>
              <div class="mb-3">
                <label for="date_range" class="form-label">Plage de réservation *</label>
                <input type="text" id="date_range" name="date_range"
                       class="form-control" autocomplete="off" required>
              </div>
              <div class="mb-3" id="single-day-options" style="display:none;">
                <label class="form-label">Type de réservation pour cette journée :</label>
                <select id="singleDayType" class="form-control">
                  <option value="journee">Journée complète – 70 € HT</option>
                  <option value="demi-journee">Demi-journée (4h) – 45 € HT</option>
                  <option value="heure">À l'heure – 10 € HT</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="duree" class="form-label">Formule de location</label>
                <select id="duree" name="duree" class="form-control formule-disabled" tabindex="0" readonly>
                  <option value="heure">À l'heure – 10 € HT</option>
                  <option value="demi-journee">Demi-journée (4h) – 45 € HT</option>
                  <option value="journee">Journée complète – 70 € HT</option>
                  <option value="semaine">Semaine (5 jours ouvrés) – 280 € HT</option>
                  <option value="3mois">3 mois – 70 €/jour HT</option>
                  <option value="6mois">6 mois – 60 €/jour HT</option>
                  <option value="12mois">12 mois – 55 €/jour HT</option>
                </select>
              </div>                                              
              <div class="mb-3">
                <label for="pack" class="form-label">Pack matériel (optionnel)</label>
                <select id="pack" name="pack" class="form-control">
                  <option value="">Aucun</option>
                  <option value="essentiel" data-prix="20">Essentiel – 20€ HT</option>
                  <option value="premium" data-prix="30">Premium – 30€ HT</option>
                </select>
                <div id="pack-details"></div>
              </div>
              <div class="mb-3">
                <label for="message" class="form-label">Message (optionnel)</label>
                <textarea id="message" name="message"
                          class="form-control" rows="3"></textarea>
              </div>
              <button type="button" id="show-recap-btn"
                      class="btn btn-warning w-100 fw-bold">
                Voir le récapitulatif
              </button>
              <small class="text-muted d-block mt-2">* Champs obligatoires</small>
            </form>
          </div>

          <div id="booking-recap-section" style="display: none;">
            <div class="recap-section">
              <div class="recap-title">RÉCAPITULATIF DE VOTRE RÉSERVATION</div>
              <div id="recap-content"></div>
            </div>
            <div class="d-flex gap-2">
              <button type="button" id="back-to-form-btn"
                      class="btn btn-secondary flex-fill">Modifier</button>
              <button type="button" id="confirm-booking-btn"
                      class="btn btn-warning flex-fill fw-bold">
                Confirmer la réservation
              </button>
            </div>
          </div>

          <div id="booking-success-section" style="display: none;">
            <div class="alert alert-success">
              <h5><strong>Demande envoyée avec succès !</strong></h5>
              <p>Vous recevrez bientôt le lien de paiement pour l’acompte.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/litepicker/dist/litepicker.js"></script>
  <script defer src="script.js"></script>
</body>
</html>
